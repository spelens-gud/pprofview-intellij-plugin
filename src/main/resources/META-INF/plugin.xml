<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <id>com.github.spelens.pprofview</id>
    <name>Pprof Plus</name>
    <vendor email="dasaying@gmail.com" url="https://github.com/spelens-gud/pprofview-intellij-plugin">Dasaying</vendor>

    <description><![CDATA[
        <h2>ğŸš€ Pprof Plus - Go Performance Analysis Made Easy</h2>
        
        <p>
            A powerful performance analysis plugin that brings <code>go tool pprof</code> directly into your IDE.
            Visualize, analyze, and optimize your Go applications without leaving GoLand or IntelliJ IDEA.
        </p>
        
        <h3>âœ¨ Key Features</h3>
        <ul>
            <li><strong>ğŸ¯ Smart Run Configurations</strong> - One-click profiling with multiple collection modes (Runtime, HTTP, Manual, Instrumentation)</li>
            <li><strong>ğŸ“Š Rich Visualizations</strong> - 7 visualization types including interactive web UI, flame graphs, call graphs, and more</li>
            <li><strong>ï¿½ Cocde Navigation</strong> - Jump from performance data to source code with inlay hints and heatmap visualization</li>
            <li><strong>ï¿½ï¸ Inetegrated Tool Windows</strong> - View analysis results directly in your IDE</li>
            <li><strong>âš¡ Multiple Profile Types</strong> - CPU, Memory, Goroutine, Block, Mutex, and Allocs profiling</li>
        </ul>
        
        <h3>ğŸ¨ Highlights</h3>
        <ul>
            <li><strong>Inlay Hints</strong> - Display performance metrics (flat/cum) directly in your code editor</li>
            <li><strong>Heatmap</strong> - Visual treemap of Top 20 functions with color-coded hotspots</li>
            <li><strong>Context Menu</strong> - Right-click any pprof file to visualize instantly</li>
            <li><strong>Auto-open Results</strong> - Visualization opens automatically after profiling completes</li>
        </ul>
        
        <h3>ğŸš€ Quick Start</h3>
        <ol>
            <li>Create a new <strong>pprof</strong> run configuration</li>
            <li>Select your collection mode and profile type</li>
            <li>Click Run and watch the magic happen</li>
            <li>Explore interactive visualizations and jump to code</li>
        </ol>
        
        <h3>ğŸ“‹ Requirements</h3>
        <ul>
            <li>GoLand 2025.2+ or IntelliJ IDEA 2025.2+ (with Go plugin)</li>
            <li>Go 1.16+</li>
            <li>JVM 21+</li>
        </ul>
        
        <p>
            <strong>Made with â¤ï¸ for Go developers</strong>
        </p>
        
        <p>
            <a href="https://github.com/spelens-gud/pprofview-intellij-plugin">GitHub</a> |
            <a href="https://github.com/spelens-gud/pprofview-intellij-plugin/issues">Report Issues</a> |
            <a href="https://github.com/spelens-gud/pprofview-intellij-plugin/blob/main/CHANGELOG.md">Changelog</a>
        </p>
    ]]></description>

    <description xml:lang="zh"><![CDATA[
        <h2>ğŸš€ Pprof Plus - è®© Go æ€§èƒ½åˆ†æå˜å¾—ç®€å•</h2>
        
        <p>
            ä¸€æ¬¾å¼ºå¤§çš„æ€§èƒ½åˆ†ææ’ä»¶ï¼Œå°† <code>go tool pprof</code> ç›´æ¥é›†æˆåˆ°æ‚¨çš„ IDE ä¸­ã€‚
            æ— éœ€ç¦»å¼€ GoLand æˆ– IntelliJ IDEAï¼Œå³å¯å¯è§†åŒ–ã€åˆ†æå’Œä¼˜åŒ–æ‚¨çš„ Go åº”ç”¨ç¨‹åºã€‚
        </p>
        
        <h3>âœ¨ æ ¸å¿ƒåŠŸèƒ½</h3>
        <ul>
            <li><strong>ğŸ¯ æ™ºèƒ½è¿è¡Œé…ç½®</strong> - ä¸€é”®æ€§èƒ½åˆ†æï¼Œæ”¯æŒå¤šç§é‡‡é›†æ¨¡å¼ï¼ˆè¿è¡Œæ—¶ã€HTTPã€æ‰‹åŠ¨ã€æ’æ¡©ï¼‰</li>
            <li><strong>ğŸ“Š ä¸°å¯Œçš„å¯è§†åŒ–</strong> - 7 ç§å¯è§†åŒ–ç±»å‹ï¼ŒåŒ…æ‹¬äº¤äº’å¼ Web UIã€ç«ç„°å›¾ã€è°ƒç”¨å›¾ç­‰</li>
            <li><strong>ğŸ” ä»£ç å¯¼èˆª</strong> - ä»æ€§èƒ½æ•°æ®ç›´æ¥è·³è½¬åˆ°æºä»£ç ï¼Œæ”¯æŒå†…åµŒæç¤ºå’Œçƒ­åŠ›å›¾å¯è§†åŒ–</li>
            <li><strong>ğŸ› ï¸ é›†æˆå·¥å…·çª—å£</strong> - ç›´æ¥åœ¨ IDE ä¸­æŸ¥çœ‹åˆ†æç»“æœ</li>
            <li><strong>âš¡ å¤šç§åˆ†æç±»å‹</strong> - æ”¯æŒ CPUã€å†…å­˜ã€åç¨‹ã€é˜»å¡ã€äº’æ–¥é”å’Œå†…å­˜åˆ†é…åˆ†æ</li>
        </ul>
        
        <h3>ğŸ¨ ç‰¹è‰²äº®ç‚¹</h3>
        <ul>
            <li><strong>å†…åµŒæç¤º</strong> - åœ¨ä»£ç ç¼–è¾‘å™¨ä¸­ç›´æ¥æ˜¾ç¤ºæ€§èƒ½æŒ‡æ ‡ï¼ˆflat/cumï¼‰</li>
            <li><strong>çƒ­åŠ›å›¾</strong> - Top 20 å‡½æ•°çš„å¯è§†åŒ–çŸ©å½¢æ ‘å›¾ï¼Œé¢œè‰²æ ‡è¯†çƒ­ç‚¹</li>
            <li><strong>å³é”®èœå•</strong> - å³é”®ç‚¹å‡»ä»»æ„ pprof æ–‡ä»¶å³å¯ç«‹å³å¯è§†åŒ–</li>
            <li><strong>è‡ªåŠ¨æ‰“å¼€ç»“æœ</strong> - æ€§èƒ½åˆ†æå®Œæˆåè‡ªåŠ¨æ‰“å¼€å¯è§†åŒ–ç»“æœ</li>
        </ul>
        
        <h3>ğŸš€ å¿«é€Ÿå¼€å§‹</h3>
        <ol>
            <li>åˆ›å»ºä¸€ä¸ªæ–°çš„ <strong>pprof</strong> è¿è¡Œé…ç½®</li>
            <li>é€‰æ‹©é‡‡é›†æ¨¡å¼å’Œåˆ†æç±»å‹</li>
            <li>ç‚¹å‡»è¿è¡Œï¼Œè§è¯å¥‡è¿¹</li>
            <li>æ¢ç´¢äº¤äº’å¼å¯è§†åŒ–å¹¶è·³è½¬åˆ°ä»£ç </li>
        </ol>
        
        <h3>ğŸ“‹ ç³»ç»Ÿè¦æ±‚</h3>
        <ul>
            <li>GoLand 2025.2+ æˆ– IntelliJ IDEA 2025.2+ï¼ˆéœ€å®‰è£… Go æ’ä»¶ï¼‰</li>
            <li>Go 1.16+</li>
            <li>JVM 21+</li>
        </ul>
        
        <p>
            <strong>ç”¨ â¤ï¸ ä¸º Go å¼€å‘è€…æ‰“é€ </strong>
        </p>
        
        <p>
            <a href="https://github.com/spelens-gud/pprofview-intellij-plugin">GitHub</a> |
            <a href="https://github.com/spelens-gud/pprofview-intellij-plugin/issues">é—®é¢˜åé¦ˆ</a> |
            <a href="https://github.com/spelens-gud/pprofview-intellij-plugin/blob/main/CHANGELOG.md">æ›´æ–°æ—¥å¿—</a>
        </p>
    ]]></description>

    <!-- æ’ä»¶æˆªå›¾è½®æ’­ -->
    <screenshots>
        <screenshot src="https://raw.githubusercontent.com/spelens-gud/pprofview-intellij-plugin/main/screenshot/pprof_config.png" 
                    description="Smart Run Configuration - Configure profiling with multiple collection modes"/>
        <screenshot src="https://raw.githubusercontent.com/spelens-gud/pprofview-intellij-plugin/main/screenshot/pprof_embed.png" 
                    description="Inlay Hints - Performance metrics displayed directly in code editor"/>
        <screenshot src="https://raw.githubusercontent.com/spelens-gud/pprofview-intellij-plugin/main/screenshot/pprof_heatmap.png" 
                    description="Heatmap Visualization - Treemap of Top 20 functions with color-coded hotspots"/>
        <screenshot src="https://raw.githubusercontent.com/spelens-gud/pprofview-intellij-plugin/main/screenshot/pprof_hover.png" 
                    description="Interactive Hover - Detailed performance information on hover"/>
        <screenshot src="https://raw.githubusercontent.com/spelens-gud/pprofview-intellij-plugin/main/screenshot/pprof_detailed.png" 
                    description="Detailed Analysis - Comprehensive performance data visualization"/>
    </screenshots>

    <!-- Specify IDE compatibility -->
    <idea-version since-build="252"/>

    <depends>com.intellij.modules.platform</depends>
    <depends config-file="go-support.xml">org.jetbrains.plugins.go</depends>

    <resource-bundle>messages.PprofViewBundle</resource-bundle>

    <extensions defaultExtensionNs="com.intellij">
        <postStartupActivity implementation="com.github.spelens.pprofview.startup.PluginStartupActivity"/>

        <notificationGroup id="pprofview.notifications" displayType="BALLOON" bundle="messages.PprofViewBundle" key="notification.group.pprofview.notifications"/>
        
        <toolWindow id="pprof Output"
                    anchor="bottom"
                    icon="com.github.spelens.pprofview.PprofIcons.ToolWindow"
                    factoryClass="com.github.spelens.pprofview.toolWindow.PprofOutputToolWindow"/>
    </extensions>

    <actions>
        <action id="pprofview.VisualizeAction"
                class="com.github.spelens.pprofview.actions.PprofVisualizeAction"
                icon="AllIcons.Actions.Profile">
            <add-to-group group-id="ProjectViewPopupMenu" anchor="after" relative-to-action="RevealIn"/>
            <add-to-group group-id="EditorPopupMenu" anchor="last"/>
        </action>
    </actions>
</idea-plugin>
